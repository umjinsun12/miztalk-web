<ion-header>
  <ion-navbar>
    
  <button ion-button menuToggle color="grapefruit">
    <ion-icon name="md-menu"></ion-icon>
  </button>
  <ion-title color="grapefruit">
    커뮤니티
  </ion-title>
  <ion-buttons end padding>
      <small class="point">{{values.point | number: '1.0-0'}}</small>
      <img src="../../assets/imgs/drawable-xxxhdpi/action_b_point_icon.png" height=10>
  </ion-buttons>
  </ion-navbar>
</ion-header>


   
<ion-content>
    <ion-segment mode="md" [(ngModel)]="selectedSegment" (ionChange)="onSegmentChanged($event)">
      <ion-segment-button value="main">
        메인
      </ion-segment-button>
      <ion-segment-button value="clinic">
        부부클리닉
      </ion-segment-button>
      <ion-segment-button value="usedmarket">
        중고장터
      </ion-segment-button>
      <ion-segment-button value="boast">
        자랑거리
      </ion-segment-button>
    </ion-segment>
    
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    
    <ion-slides class="community-slider" #mySlider (ionSlideDidChange)="onSlideChanged($event)">
        <ion-slide *ngFor="let slide of slides">
            <ion-list>
                <ion-item *ngFor="let post of posts" no-padding>
                  <ion-row no-padding>
                    <ion-col (click)="getPostConent(post.id, post.title.rendered)">
                      <p class="post-title" [innerHTML]="post.title.rendered"></p>
                      <p class="post-author">{{post.author}}</p>
                      <p class="post-date">{{post.reltime}}</p>
                      <ion-icon name="ios-text" class="post-comment"> {{post.replies}}</ion-icon>
                      <ion-icon name="thumbs-up" class="post-comment"> 0</ion-icon>
                    </ion-col>
                    <!--<ion-col class="post-commentbox" col-3 text-center>
                        <div small color="primary" (click)="postTapped($event, post)" icon-start>
                          <p>0</p>
                          <h6>댓글</h6>
                        </div>
                    </ion-col>-->
                  </ion-row>
                </ion-item>
              </ion-list>
        </ion-slide>
    </ion-slides>

      
    <!--<ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-list>
      <ion-item *ngFor="let post of posts" no-padding>
        <ion-row no-padding>
          <ion-col col-9>
            <h2 class="post-title" [innerHTML]="post.title.rendered"></h2>
            <p class="post-author">{{post.authordata.name}}</p>
            <p class="post-date">{{post.date | date : 'MM-dd HH:mm'}}</p>
            <ion-icon name="ios-text" class="post-comment"> 0</ion-icon>
            <ion-icon name="thumbs-up" class="post-comment"> 0</ion-icon>
          </ion-col>-->
          <!--<ion-col class="post-commentbox" col-3 text-center>
              <div small color="primary" (click)="postTapped($event, post)" icon-start>
                <p>0</p>
                <h6>댓글</h6>
              </div>
          </ion-col>-->
        <!--</ion-row>
      </ion-item>
    </ion-list>
    <ion-infinite-scroll [enabled]="morePagesAvailable" (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content
        loadingSpinner="bubbles"
        loadingText="Loading more posts ...">
        </ion-infinite-scroll-content>
      </ion-infinite-scroll>-->

    <!--

    <ion-card *ngFor="let post of posts" >
      <ion-card-content >
      <ion-card-title [innerHTML]="post.title.rendered"></ion-card-title>
      </ion-card-content>
      <ion-row no-padding>
         <ion-col>
           <button ion-button clear small color="primary" icon-start>
             {{post.date.split('T')[0]}}
           </button>
         </ion-col>
         <ion-col text-right>
           <button ion-button small color="primary" (click)="postTapped($event, post)" icon-start>
              Read More
           </button>
         </ion-col>
       </ion-row>
    </ion-card>-->
    
</ion-content>

<ion-footer no-shadow>
    <ion-toolbar position="bottom">
      <button ion-button full no-padding no-margin (click)="doWrite()">글 쓰 기</button>
    </ion-toolbar>
</ion-footer>